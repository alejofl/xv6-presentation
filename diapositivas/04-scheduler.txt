â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ [1m[36mâ–¶[0m [1m4. Scheduler[0m                                                               â”‚
â”‚ [32mâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[0m                               â”‚
â”‚ [32mâ”‚[0m void scheduler(void) {                     [32mâ”‚[0m [33m*[0m En main() se llama a        â”‚
â”‚ [32mâ”‚[0m   struct proc *p;                          [32mâ”‚[0m   procinit()                  â”‚
â”‚ [32mâ”‚[0m   struct cpu *c = mycpu();                 [32mâ”‚[0m                               â”‚
â”‚ [32mâ”‚[0m   c->proc = 0;                             [32mâ”‚[0m [33m*[0m La funciÃ³n scheduler()      â”‚
â”‚ [32mâ”‚[0m   for(;;){                                 [32mâ”‚[0m   es un loop infinito, que    â”‚
â”‚ [32mâ”‚[0m     for(p = proc; p < &proc[NPROC]; p++) { [32mâ”‚[0m   corre constantemente        â”‚
â”‚ [32mâ”‚[0m       if(p->state == RUNNABLE) {           [32mâ”‚[0m                               â”‚
â”‚ [32mâ”‚[0m         p->state = RUNNING;                [32mâ”‚[0m [33m*[0m swtch() es una funciÃ³n ASM  â”‚
â”‚ [32mâ”‚[0m         c->proc = p;                       [32mâ”‚[0m   que guarda el contexto      â”‚
â”‚ [32mâ”‚[0m         swtch(&c->context, &p->context);   [32mâ”‚[0m   viejo y carga el contexto   â”‚
â”‚ [32mâ”‚[0m         c->proc = 0;                       [32mâ”‚[0m   nuevo                       â”‚
â”‚ [32mâ”‚[0m       }                                    [32mâ”‚[0m                               â”‚
â”‚ [32mâ”‚[0m     ...                                    [32mâ”‚[0m                               â”‚
â”‚ [32mâ”‚[0m }                                          [32mâ”‚[0m                               â”‚
â”‚ [32mâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯[0m                               â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ XX ]â”€â”€â•¯
