â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
â”‚ [1m[36mâ–¶[0m [1m4.1 Scheduler: Context Switch[0m                                              â”‚
â”‚                                                                              â”‚
â”‚ [32mâ•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[0m                                 â”‚
â”‚ [32mâ”‚[0m void sched(void) {                       [32mâ”‚[0m  [33m*[0m La funciÃ³n swtch hace el     â”‚
â”‚ [32mâ”‚[0m   int intena;                            [32mâ”‚[0m    context switch propiamente   â”‚
â”‚ [32mâ”‚[0m   struct proc *p = myproc();             [32mâ”‚[0m    dicho                        â”‚
â”‚ [32mâ”‚[0m                                          [32mâ”‚[0m                                 â”‚
â”‚ [32mâ”‚[0m   ...                                    [32mâ”‚[0m  [33m*[0m Pero, Â¿cÃ³mo se vuelve a      â”‚
â”‚ [32mâ”‚[0m                                          [32mâ”‚[0m    Kernel? La funciÃ³n sched()   â”‚
â”‚ [32mâ”‚[0m   intena = mycpu()->intena;              [32mâ”‚[0m    cambia nuevamente el         â”‚
â”‚ [32mâ”‚[0m   swtch(&p->context, &mycpu()->context); [32mâ”‚[0m    contexto al del Kernel.      â”‚
â”‚ [32mâ”‚[0m   mycpu()->intena = intena;              [32mâ”‚[0m    Se llama en tres momentos:   â”‚
â”‚ [32mâ”‚[0m }                                        [32mâ”‚[0m        [33m-[0m Timer Tick             â”‚
â”‚ [32mâ•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯[0m        [33m-[0m sleep()                â”‚
â”‚                                                     [33m-[0m exit()                 â”‚
â”‚                                                                              â”‚
â”‚                                                                              â”‚
â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[ XX ]â”€â”€â•¯
